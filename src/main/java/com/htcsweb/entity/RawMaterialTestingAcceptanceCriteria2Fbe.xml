<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.htcsweb.dao.RawMaterialTestingAcceptanceCriteria2Fbe">

    <insert id="addRawMaterialTestingAcceptanceCriteria2Fbe" parameterType="com.htcsweb.entity.RawMaterialTestingAcceptanceCriteria2Fbe">
        INSERT INTO raw_material_testing_acceptance_criteria_2fbe(raw_material_testing_acceptance_criteria_no,density_max,density_min,particle_size_32um_max,particle_size_32um_min,particle_size_150um_max,particle_size_150um_min,dsc_tgi_max,dsc_tgi_min,dsc_tgf_max,dsc_tgf_min,dsc_delta_h_max,dsc_delta_h_min,gel_time_lt_20s_max,gel_time_lt_20s_min,gel_time_gt_20s_max,gel_time_gt_20s_min,volatile_max,volatile_min,foaming_cross_sectional_max,foaming_cross_sectional_min,foaming_interfacial_max,foaming_interfacial_min,hot_water_max,hot_water_min,cd_65_24h_max,cd_65_24h_min,last_update_time)
        VALUES (#{raw_material_testing_acceptance_criteria_no},#{density_max},#{density_min},#{particle_size_32um_max},#{particle_size_32um_min},#{particle_size_150um_max},#{particle_size_150um_min},#{dsc_tgi_max},#{dsc_tgi_min},#{dsc_tgf_max},#{dsc_tgf_min},#{dsc_delta_h_max},#{dsc_delta_h_min},#{gel_time_lt_20s_max},#{gel_time_lt_20s_min},#{gel_time_gt_20s_max},#{gel_time_gt_20s_min},#{volatile_max},#{volatile_min},#{foaming_cross_sectional_max},#{foaming_cross_sectional_min},#{foaming_interfacial_max},#{foaming_interfacial_min},#{hot_water_max},#{hot_water_min},#{cd_65_24h_max},#{cd_65_24h_min},#{last_update_time})
    </insert>
    <delete id="delRawMaterialTestingAcceptanceCriteria2Fbe">
        delete from raw_material_testing_acceptance_criteria_2fbe WHERE
        <foreach collection="array" item="item" open="id in (" separator="," close=")">
            #{item}
        </foreach>
    </delete>

    <update id="updateRawMaterialTestingAcceptanceCriteria2Fbe" parameterType="com.htcsweb.entity.RawMaterialTestingAcceptanceCriteria2Fbe">
        UPDATE raw_material_testing_acceptance_criteria_2fbe set raw_material_testing_acceptance_criteria_no=#{raw_material_testing_acceptance_criteria_no},density_max=#{density_max},density_min=#{density_min},particle_size_32um_max=#{particle_size_32um_max},particle_size_32um_min=#{particle_size_32um_min},particle_size_150um_max=#{particle_size_150um_max},particle_size_150um_min=#{particle_size_150um_min},dsc_tgi_max=#{dsc_tgi_max},dsc_tgi_min=#{dsc_tgi_min},dsc_tgf_max=#{dsc_tgf_max},dsc_tgf_min=#{dsc_tgf_min},dsc_delta_h_max=#{dsc_delta_h_max},dsc_delta_h_min=#{dsc_delta_h_min},gel_time_lt_20s_max=#{gel_time_lt_20s_max},gel_time_lt_20s_min=#{gel_time_lt_20s_min},gel_time_gt_20s_max=#{gel_time_gt_20s_max},gel_time_gt_20s_min=#{gel_time_gt_20s_min},volatile_max=#{volatile_max},volatile_min=#{volatile_min},foaming_cross_sectional_max=#{foaming_cross_sectional_max},foaming_cross_sectional_min=#{foaming_cross_sectional_min},foaming_interfacial_max=#{foaming_interfacial_max},foaming_interfacial_min=#{foaming_interfacial_min},hot_water_max=#{hot_water_max},hot_water_min=#{hot_water_min},cd_65_24h_max=#{cd_65_24h_max},#{cd_65_24h_min},last_update_time=#{last_update_time} where id=#{id}
    </update>

    <select id="getCountAllByLike" resultType="int">
        select count(*) from raw_material_testing_acceptance_criteria_2fbe
        <where>
            <if test="raw_material_testing_acceptance_criteria_no!=null and raw_material_testing_acceptance_criteria_no!=''">
                AND raw_material_testing_acceptance_criteria_no LIKE CONCAT('%',#{raw_material_testing_acceptance_criteria_no},'%')
            </if>
        </where>
    </select>

    <select id="getAllByLike" resultType="map">
        Select * from raw_material_testing_acceptance_criteria_2fbe
        <where>
            <if test="raw_material_testing_acceptance_criteria_no!=null and raw_material_testing_acceptance_criteria_no!=''">
                AND raw_material_testing_acceptance_criteria_no LIKE CONCAT('%',#{raw_material_testing_acceptance_criteria_no},'%')
            </if>
        </where>
        ORDER BY id DESC
        limit #{skip},#{take}
    </select>

    <select id="getAllRawMaterialTestingAcceptanceCriteria2Fbe" resultType="com.htcsweb.entity.RawMaterialTestingAcceptanceCriteria2Fbe">
        SELECT  * from raw_material_testing_acceptance_criteria_2fbe
        ORDER BY id DESC
    </select>
    <select id="getRawMaterialTestingAcceptanceCriteria2FbeByContractNo" resultType="com.htcsweb.entity.RawMaterialTestingAcceptanceCriteria2Fbe">
        select o.* from contract_info c inner JOIN project_info p on c.project_no=p.project_no inner JOIN raw_material_testing_acceptance_criteria_2fbe o on p.raw_material_acceptance_criteria_2fbe_no=o.raw_material_testing_acceptance_criteria_no WHERE c.contract_no=#{contract_no}
    </select>

</mapper>