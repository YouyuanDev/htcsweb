<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.htcsweb.dao.LabTestingAcceptanceCriteria2FbeDao">

    <insert id="addLabTestCriteria2Fbe" parameterType="com.htcsweb.entity.LabTestingAcceptanceCriteria2Fbe">
     INSERT INTO lab_testing_acceptance_criteria_2fbe(lab_testing_acceptance_criteria_no,interfacial_contamination_max,interfacial_contamination_min,foaming_cross_sectional_max,foaming_cross_sectional_min,foaming_interfacial_max,foaming_interfacial_min,resistance_to_hot_water_98_24h_max,resistance_to_hot_water_98_24h_min,resistance_to_hot_water_98_28d_max,resistance_to_hot_water_98_28d_min,resistance_to_cd_65_24h_max,resistance_to_cd_65_24h_min,resistance_to_cd_22_28d_max,resistance_to_cd_22_28d_min,resistance_to_cd_65_28d_max,resistance_to_cd_65_28d_min,last_update_time,dsc_delta_tg_max,dsc_delta_tg_min,dsc_c_max,dsc_c_min) VALUES (#{lab_testing_acceptance_criteria_no},#{interfacial_contamination_max},#{interfacial_contamination_min},#{foaming_cross_sectional_max},#{foaming_cross_sectional_min},#{foaming_interfacial_max},#{foaming_interfacial_min},#{resistance_to_hot_water_98_24h_max},#{resistance_to_hot_water_98_24h_min},#{resistance_to_hot_water_98_28d_max},#{resistance_to_hot_water_98_28d_min},#{resistance_to_cd_65_24h_max},#{resistance_to_cd_65_24h_min},#{resistance_to_cd_22_28d_max},#{resistance_to_cd_22_28d_min},#{resistance_to_cd_65_28d_max},#{resistance_to_cd_65_28d_min},#{last_update_time},#{dsc_delta_tg_max},#{dsc_delta_tg_min},#{dsc_c_max},#{dsc_c_min})
    </insert>
    <delete id="delLabTestCriteria2Fbe">
        delete from lab_testing_acceptance_criteria_2fbe WHERE
        <foreach collection="array" item="item" open="id in (" separator="," close=")">
            #{item}
        </foreach>
    </delete>

    <update id="updateLabTestCriteria2Fbe" parameterType="com.htcsweb.entity.LabTestingAcceptanceCriteria2Fbe">
      UPDATE lab_testing_acceptance_criteria_2fbe set lab_testing_acceptance_criteria_no=#{lab_testing_acceptance_criteria_no},interfacial_contamination_max=#{interfacial_contamination_max},interfacial_contamination_min=#{interfacial_contamination_min},foaming_cross_sectional_max=#{foaming_cross_sectional_max},foaming_cross_sectional_min=#{foaming_cross_sectional_min},foaming_interfacial_max=#{foaming_interfacial_max},foaming_interfacial_min=#{foaming_interfacial_min},resistance_to_hot_water_98_24h_max=#{resistance_to_hot_water_98_24h_max},resistance_to_hot_water_98_24h_min=#{resistance_to_hot_water_98_24h_min},resistance_to_hot_water_98_28d_max=#{resistance_to_hot_water_98_28d_max},resistance_to_hot_water_98_28d_min=#{resistance_to_hot_water_98_28d_min},resistance_to_cd_65_24h_max=#{resistance_to_cd_65_24h_max},resistance_to_cd_65_24h_min=#{resistance_to_cd_65_24h_min},resistance_to_cd_22_28d_max=#{resistance_to_cd_22_28d_max},resistance_to_cd_22_28d_min=#{resistance_to_cd_22_28d_min},resistance_to_cd_65_28d_max=#{resistance_to_cd_65_28d_max},resistance_to_cd_65_28d_min=#{resistance_to_cd_65_28d_min},last_update_time=#{last_update_time},dsc_delta_tg_max=#{dsc_delta_tg_max},dsc_delta_tg_min=#{dsc_delta_tg_min},dsc_c_max=#{dsc_c_max},dsc_c_min=#{dsc_c_min} where id=#{id}
    </update>

    <select id="getCountNewAllByLike" resultType="int">
        select count(*) from lab_testing_acceptance_criteria_2fbe
        <where>
            <if test="lab_testing_acceptance_criteria_no!=null and lab_testing_acceptance_criteria_no!=''">
                AND lab_testing_acceptance_criteria_no LIKE CONCAT('%',#{lab_testing_acceptance_criteria_no},'%')
            </if>
        </where>
    </select>

    <select id="getNewAllByLike" resultType="map">
        Select * from lab_testing_acceptance_criteria_2fbe
        <where>
            <if test="lab_testing_acceptance_criteria_no!=null and lab_testing_acceptance_criteria_no!=''">
                AND lab_testing_acceptance_criteria_no LIKE CONCAT('%',#{lab_testing_acceptance_criteria_no},'%')
            </if>
        </where>
        ORDER BY id DESC
        limit #{skip},#{take}
    </select>

    <select id="getAllLabTestingAcceptanceCriteria2Fbe" resultType="com.htcsweb.entity.LabTestingAcceptanceCriteria2Fbe">
        SELECT  * from lab_testing_acceptance_criteria_2fbe
        ORDER BY id DESC
    </select>
    <select id="getLabTestCriteria2FbeByContractNo" resultType="com.htcsweb.entity.LabTestingAcceptanceCriteria2Fbe">
        select cri.* from lab_testing_acceptance_criteria_2fbe cri
        inner join project_info pro on pro.lab_testing_acceptance_criteria_2fbe_no=cri.lab_testing_acceptance_criteria_no
        inner join contract_info c on c.project_no=pro.project_no
        <where>
            <if test="contract_no!=null and contract_no!=''">
                AND c.contract_no=#{contract_no}
            </if>
        </where>
    </select>


    <select id="getLabTestCriteria2FbeByPipeNo" resultType="com.htcsweb.entity.LabTestingAcceptanceCriteria2Fbe">
      select cri.* from lab_testing_acceptance_criteria_2fbe cri
      inner join project_info pro on pro.lab_testing_acceptance_criteria_2fbe_no=cri.lab_testing_acceptance_criteria_no
      inner join contract_info c on c.project_no=pro.project_no
      inner join pipe_basic_info p on p.contract_no=c.contract_no
        <where>
            <if test="pipe_no!=null and pipe_no!=''">
                AND pipe_no =#{pipe_no}
            </if>
        </where>
    </select>

</mapper>